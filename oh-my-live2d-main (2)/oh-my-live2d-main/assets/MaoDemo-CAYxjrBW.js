import{B as p}from"./BackgroundImgLoad-YDsouuaq.js";import{_ as c,o as f,a as m,c as u,r as i,b as v,d as h,w as n,e,f as _,g as w,t as g}from"./index-DcibYH9B.js";const y={class:"demo-layout"},x={class:"right-pdf"},B={class:"pdf-header"},D={class:"upload-btn"},L={class:"pdf-name"},U={class:"pdf-viewer-wrap"},k=["src"],M={__name:"MaoDemo",setup(O){const s=i(""),a=i(""),d=o=>{const t=o.target.files[0];if(t){if(t.type!=="application/pdf"){alert("请上传 PDF 文件");return}s.value=t.name,a.value=URL.createObjectURL(t)}},l=()=>{const o=window.OML2D||window.Oml2d;o&&o.loadOml2d({models:[{path:"/mao/mao_pro.model3.json",scale:.1,position:[0,0],stageStyle:{height:400}}],parentElement:document.getElementById("oml2d-container"),primaryColor:"#0B57D0",sayHello:!1,tips:{style:{width:230,height:120,left:"calc(50% - 20px)",top:-140},idleTips:{word:["这里是乐谱预览区，快去上传乐谱吧~","点击左上角可以进入对话练习哦~","我是滴哇老师，随时为你服务喵~"]}}})};return f(()=>{window.OML2D||window.Oml2d?l():setTimeout(l,100)}),m(()=>{a.value&&URL.revokeObjectURL(a.value)}),(o,t)=>{const r=v("router-link");return h(),u(p,{imgUrl:"/background.webp",width:"100%",height:"100%",showDecorations:!0,theme:"mixed"},{default:n(()=>[e("div",y,[_(r,{to:"/chat",class:"chat-link-btn",title:"进入对话"},{default:n(()=>[...t[0]||(t[0]=[e("svg",{class:"icon",viewBox:"0 0 24 24"},[e("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})],-1)])]),_:1}),t[4]||(t[4]=e("div",{class:"left-stage"},[e("h2",{class:"character-title"},"滴哇老师"),e("div",{id:"oml2d-container"}),e("div",{class:"character-info",style:{"margin-top":"24px"}},[e("p",null,"上传乐谱，开始你的练习"),e("p",null,"点击上方按钮进入对话模式")])],-1)),e("div",x,[e("div",B,[e("div",D,[e("input",{type:"file",id:"pdfUpload",accept:".pdf",onChange:d},null,32),t[1]||(t[1]=e("svg",{class:"icon",viewBox:"0 0 24 24"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e("polyline",{points:"17 8 12 3 7 8"}),e("line",{x1:"12",y1:"3",x2:"12",y2:"15"})],-1)),t[2]||(t[2]=w(" 上传乐谱 ",-1))]),t[3]||(t[3]=e("div",{class:"pdf-hint"},"支持 PDF 格式文件",-1)),e("div",L,g(s.value),1)]),e("div",U,[e("iframe",{id:"pdfFrame",src:a.value},null,8,k)])])])]),_:1})}}},F=c(M,[["__scopeId","data-v-fa7e0003"]]);export{F as default};
